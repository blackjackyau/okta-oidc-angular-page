function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,s=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XuDu:function(e,t,r){"use strict";r.r(t),r.d(t,"AdminsModule",(function(){return ne}));var n={};r.r(n),r.d(n,"LoadUsers",(function(){return C})),r.d(n,"LoadUsersSuccess",(function(){return j})),r.d(n,"LoadUsersError",(function(){return k})),r.d(n,"LoadUsersNoOp",(function(){return T}));var i=r("ofXK"),s=r("tyNb"),a=r("kt0X"),o=r("4ald"),c=r("/VzD"),u=r("fXoL"),b=r("0MNC"),l=r("/t3+"),f=r("bTqV"),m=r("NFeN"),p=r("STbY"),h=r("XhcP"),d=r("MutI");function g(e,t){if(1&e&&(u.Sb(0),u.Ac(1),u.Rb()),2&e){var r=t.ngIf;u.Cb(1),u.Bc(r.userName)}}function y(e,t){if(1&e&&(u.Ub(0,"a",12),u.Ub(1,"mat-icon",13),u.Ac(2),u.Tb(),u.Ub(3,"span",14),u.Ac(4),u.Tb(),u.Tb()),2&e){var r=t.$implicit;u.mc("routerLink",r.link),u.Cb(2),u.Bc(r.icon),u.Cb(2),u.Bc(r.label)}}var v,O=((v=function(){function e(t,r,n,i){_classCallCheck(this,e),this.router=t,this.store=r,this.changeDetectorRef=n,this.media=i,this.sideMenus=[{label:"Manage Users",link:"users",icon:"person"},{label:"Key Management",link:"key-mgmt",icon:"vpn_key"}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQueryListener=function(){e.changeDetectorRef.detectChanges()},this.mobileQuery.addListener(this.mobileQueryListener),this.store.dispatch(c.a.loadSession()),this.currentUser$=this.store.pipe(Object(a.t)(o.d))}},{key:"logout",value:function(){this.store.dispatch(c.a.logoutSession())}},{key:"renew",value:function(){}},{key:"OnDestroy",value:function(){this.mobileQuery.removeListener(this.mobileQueryListener)}}]),e}()).\u0275fac=function(e){return new(e||v)(u.Ob(s.a),u.Ob(a.h),u.Ob(u.h),u.Ob(b.c))},v.\u0275cmp=u.Ib({type:v,selectors:[["app-admins"]],decls:24,vars:9,consts:[["color","accent",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],[1,"main-header-text"],["mat-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["yPosition","below"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"main-container"],["fixedTopGap","56",3,"opened","disableClose","mode","fixedInViewport"],["sidenav",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"],["color","primary","aria-hidden","true","aria-label","menu.label"],[1,"menu-label"]],template:function(e,t){if(1&e){var r=u.Vb();u.Ub(0,"div"),u.Ub(1,"mat-toolbar",0),u.Ub(2,"button",1),u.cc("click",(function(){return u.tc(r),u.rc(19).toggle()})),u.Ub(3,"mat-icon"),u.Ac(4,"menu"),u.Tb(),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"div"),u.Ac(7,"Admin Portal"),u.Tb(),u.Tb(),u.Ub(8,"button",3),u.Ub(9,"mat-icon"),u.Ac(10,"person"),u.Tb(),u.zc(11,g,2,1,"ng-container",4),u.hc(12,"async"),u.Tb(),u.Tb(),u.Ub(13,"mat-menu",5,6),u.Ub(15,"button",7),u.cc("click",(function(){return t.logout()})),u.Ac(16,"Logout"),u.Tb(),u.Tb(),u.Ub(17,"mat-sidenav-container",8),u.Ub(18,"mat-sidenav",9,10),u.Ub(20,"mat-nav-list"),u.zc(21,y,5,3,"a",11),u.Tb(),u.Tb(),u.Ub(22,"mat-sidenav-content"),u.Pb(23,"router-outlet"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.rc(14);u.Cb(8),u.lc("matMenuTriggerFor",n),u.Cb(3),u.lc("ngIf",u.ic(12,7,t.currentUser$)),u.Cb(7),u.mc("opened",!t.mobileQuery.matches),u.mc("disableClose",!t.mobileQuery.matches),u.lc("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),u.Cb(3),u.lc("ngForOf",t.sideMenus)}},directives:[l.a,f.b,m.a,p.c,i.l,p.d,p.a,h.b,h.a,d.c,i.k,h.c,s.d,d.a,s.b],pipes:[i.b],styles:[".main-header-text[_ngcontent-%COMP%]{flex:1 1 500px}.main-header-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}.main-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.mat-list-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}mat-toolbar[_ngcontent-%COMP%]{height:56px;font-size:18px}"]}),v),U=r("P6bf"),C=Object(a.n)("[UserMgmt] Load Users"),j=Object(a.n)("[UserMgmt/API] Load Users Success",Object(a.s)()),k=Object(a.n)("[UserMgmt/API] Load Users Error",Object(a.s)()),T=Object(a.n)("[UserMgmt/API] Load Users No Operation"),A=Object(a.o)("userMgmt"),L=Object(a.q)(A,(function(e){return e.users})),M=Object(a.q)(A,(function(e){return e.status})),_=Object(a.p)({users:[],status:"INIT"},Object(a.r)(n.LoadUsers,(function(e){return"LOADED"!==e.status?Object.assign(Object.assign({},e),{status:"LOADING"}):Object.assign({},e)})),Object(a.r)(n.LoadUsersSuccess,(function(e,t){return{users:t.users,status:"LOADED"}})),Object(a.r)(n.LoadUsersError,(function(e,t){var r=t.errorMsg;return Object.assign(Object.assign({},e),{status:{errorMsg:r}})}))),w=r("FKr1");function I(e,t){if(1&e){var r=u.Vb();u.Ub(0,"mat-list-item",2),u.cc("click",(function(){u.tc(r);var e=t.$implicit;return u.gc().onView(e)})),u.Ub(1,"h3",3),u.Ac(2),u.Tb(),u.Ub(3,"p",3),u.Ac(4),u.Tb(),u.Ub(5,"p",3),u.Ac(6),u.Tb(),u.Tb()}if(2&e){var n=t.$implicit;u.Cb(2),u.Cc(" ",n.id," "),u.Cb(2),u.Dc(" ",n.firstName," ",n.lastName," "),u.Cb(2),u.Cc(" ",n.userName," ")}}function S(e,t){if(1&e&&(u.Ub(0,"p"),u.Ac(1),u.Tb()),2&e){var r=u.gc();u.Cb(1),u.Cc(" Error loading users, reason: ",r.errorMsg," ")}}var x,P,N=((x=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.dispatch(n.LoadUsers()),this.users$=this.store.pipe(Object(a.t)(L)),this.store.pipe(Object(a.t)(M)).subscribe((function(t){e.errorMsg=function(e){return void 0!==e.errorMsg?e.errorMsg:null}(t)}))}}]),e}()).\u0275fac=function(e){return new(e||x)(u.Ob(a.h))},x.\u0275cmp=u.Ib({type:x,selectors:[["app-user-mgmt"]],decls:4,vars:4,consts:[[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],["matLine",""]],template:function(e,t){1&e&&(u.Ub(0,"mat-nav-list"),u.zc(1,I,7,4,"mat-list-item",0),u.hc(2,"async"),u.zc(3,S,2,1,"p",1),u.Tb()),2&e&&(u.Cb(1),u.lc("ngForOf",u.ic(2,2,t.users$)),u.Cb(2),u.lc("ngIf",t.errorMsg))},directives:[d.c,i.k,i.l,d.a,w.j],pipes:[i.b],styles:[""]}),x),D=r("nAXo"),$=[{path:"",component:O,canActivate:[U.a],children:[{path:"users",component:N},{path:"key-mgmt",component:D.a},{path:"",redirectTo:"users",pathMatch:"full"}]}],F=((P=function e(){_classCallCheck(this,e)}).\u0275mod=u.Mb({type:P}),P.\u0275inj=u.Lb({factory:function(e){return new(e||P)},imports:[[s.c.forChild($)],s.c]}),P),z=r("snw9"),E=r("eIep"),Q=r("5+tZ"),R=r("lJxs"),V=r("128B");function Y(e,t,r){return 0===r?[t]:(e.push(t),e)}var X,B,K,J=r("RrW5"),W=r("tk/3"),q=((X=function(){function e(t,r,n){_classCallCheck(this,e),this.http=t,this.store=r,this.profileService=n;var i=this.profileService.getActiveProfile();this.baseUrl="https://cors-anywhere.herokuapp.com/".concat(i.oktaUrl),this.ssws$=this.store.pipe(Object(a.t)(o.e))}return _createClass(e,[{key:"getUsers",value:function(){var e=this;return this.ssws$.pipe(Object(E.a)((function(t){return e.http.get("".concat(e.baseUrl,"/api/v1/users"),{headers:{Authorization:"SSWS ".concat(t)}}).pipe(Object(Q.a)((function(e){return e})),Object(R.a)((function(e){return{id:e.id,userName:e.profile.login,firstName:e.profile.firstName,lastName:e.profile.lastName}})),Object(V.a)(Y,[]))})))}}]),e}()).\u0275fac=function(e){return new(e||X)(u.Yb(W.a),u.Yb(a.h),u.Yb(J.a))},X.\u0275prov=u.Kb({token:X,factory:X.\u0275fac,providedIn:"root"}),X),G=r("zp1y"),H=r("JIr8"),Z=r("LRne"),ee=((B=function e(t,r,i){var s=this;_classCallCheck(this,e),this.actions$=t,this.store=r,this.usersService=i,this.loadUsers$=Object(z.d)((function(){return s.actions$.pipe(Object(z.e)(n.LoadUsers),Object(G.a)(s.store.select(M)),Object(E.a)((function(e){var t=_slicedToArray(e,2);return t[0],"LOADED"===t[1]?Object(Z.a)(n.LoadUsersNoOp()):s.usersService.getUsers().pipe(Object(R.a)((function(e){return n.LoadUsersSuccess({users:e})})),Object(H.a)((function(e){return console.error(e),Object(Z.a)(n.LoadUsersError({errorMsg:e.statusText}))})))})))}))}).\u0275fac=function(e){return new(e||B)(u.Yb(z.a),u.Yb(a.h),u.Yb(q))},B.\u0275prov=u.Kb({token:B,factory:B.\u0275fac}),B),te=r("B+Mi"),re=r("x0yz"),ne=((K=function e(){_classCallCheck(this,e)}).\u0275mod=u.Mb({type:K}),K.\u0275inj=u.Lb({factory:function(e){return new(e||K)},imports:[[i.c,F,te.a,re.a,a.j.forFeature("userMgmt",_),z.b.forFeature([ee])]]}),K)}}]);