(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XuDu:function(e,t,s){"use strict";s.r(t),s.d(t,"AdminsModule",(function(){return R}));var n=s("ofXK"),i=s("tyNb"),c=s("kt0X"),r=s("4ald"),o=s("/VzD"),a=s("fXoL"),b=s("0MNC"),u=s("/t3+"),l=s("bTqV"),m=s("NFeN"),p=s("STbY"),h=s("XhcP"),d=s("MutI");function f(e,t){if(1&e&&(a.Sb(0),a.Ac(1),a.Rb()),2&e){const e=t.ngIf;a.Cb(1),a.Bc(e.userName)}}function g(e,t){if(1&e&&(a.Ub(0,"a",12),a.Ub(1,"mat-icon",13),a.Ac(2),a.Tb(),a.Ub(3,"span",14),a.Ac(4),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.mc("routerLink",e.link),a.Cb(2),a.Bc(e.icon),a.Cb(2),a.Bc(e.label)}}let U=(()=>{class e{constructor(e,t,s,n){this.router=e,this.store=t,this.changeDetectorRef=s,this.media=n,this.sideMenus=[{label:"Manage Users",link:"users",icon:"person"},{label:"Key Management",link:"key-mgmt",icon:"vpn_key"}]}ngOnInit(){this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQueryListener=()=>{this.changeDetectorRef.detectChanges()},this.mobileQuery.addListener(this.mobileQueryListener),this.store.dispatch(o.a.loadSession()),this.currentUser$=this.store.pipe(Object(c.t)(r.d))}logout(){this.store.dispatch(o.a.logoutSession())}renew(){}OnDestroy(){this.mobileQuery.removeListener(this.mobileQueryListener)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(i.a),a.Ob(c.h),a.Ob(a.h),a.Ob(b.c))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-admins"]],decls:24,vars:9,consts:[["color","accent",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],[1,"main-header-text"],["mat-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["yPosition","below"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"main-container"],["fixedTopGap","56",3,"opened","disableClose","mode","fixedInViewport"],["sidenav",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"],["color","primary","aria-hidden","true","aria-label","menu.label"],[1,"menu-label"]],template:function(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"mat-toolbar",0),a.Ub(2,"button",1),a.cc("click",(function(){return a.tc(e),a.rc(19).toggle()})),a.Ub(3,"mat-icon"),a.Ac(4,"menu"),a.Tb(),a.Tb(),a.Ub(5,"div",2),a.Ub(6,"div"),a.Ac(7,"Admin Portal"),a.Tb(),a.Tb(),a.Ub(8,"button",3),a.Ub(9,"mat-icon"),a.Ac(10,"person"),a.Tb(),a.zc(11,f,2,1,"ng-container",4),a.hc(12,"async"),a.Tb(),a.Tb(),a.Ub(13,"mat-menu",5,6),a.Ub(15,"button",7),a.cc("click",(function(){return t.logout()})),a.Ac(16,"Logout"),a.Tb(),a.Tb(),a.Ub(17,"mat-sidenav-container",8),a.Ub(18,"mat-sidenav",9,10),a.Ub(20,"mat-nav-list"),a.zc(21,g,5,3,"a",11),a.Tb(),a.Tb(),a.Ub(22,"mat-sidenav-content"),a.Pb(23,"router-outlet"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.rc(14);a.Cb(8),a.lc("matMenuTriggerFor",e),a.Cb(3),a.lc("ngIf",a.ic(12,7,t.currentUser$)),a.Cb(7),a.mc("opened",!t.mobileQuery.matches),a.mc("disableClose",!t.mobileQuery.matches),a.lc("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),a.Cb(3),a.lc("ngForOf",t.sideMenus)}},directives:[u.a,l.b,m.a,p.c,n.l,p.d,p.a,h.b,h.a,d.c,n.k,h.c,i.d,d.a,i.b],pipes:[n.b],styles:[".main-header-text[_ngcontent-%COMP%]{flex:1 1 500px}.main-header-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}.main-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.mat-list-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}mat-toolbar[_ngcontent-%COMP%]{height:56px;font-size:18px}"]}),e})();var y=s("P6bf"),O=function(e){return e.LoadUsers="[Users] Load Users",e.LoadUsersSuccess="[Users] Load Users Success",e}({});class v{constructor(e){this.payload=e,this.type=O.LoadUsers}}class T{constructor(e){this.payload=e,this.type=O.LoadUsersSuccess}}const k=Object(c.o)("userMgmt"),w=Object(c.q)(k,e=>e.users);var C=s("FKr1");function M(e,t){if(1&e){const e=a.Vb();a.Ub(0,"mat-list-item",1),a.cc("click",(function(){a.tc(e);const s=t.$implicit;return a.gc().onView(s)})),a.Ub(1,"h3",2),a.Ac(2),a.Tb(),a.Ub(3,"p",2),a.Ac(4),a.Tb(),a.Ub(5,"p",2),a.Ac(6),a.Tb(),a.Tb()}if(2&e){const e=t.$implicit;a.Cb(2),a.Cc(" ",e.id," "),a.Cb(2),a.Dc(" ",e.firstName," ",e.lastName," "),a.Cb(2),a.Cc(" ",e.userName," ")}}let j=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(new v),this.users$=this.store.pipe(Object(c.t)(w))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(c.h))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-user-mgmt"]],decls:3,vars:3,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],["matLine",""]],template:function(e,t){1&e&&(a.Ub(0,"mat-nav-list"),a.zc(1,M,7,4,"mat-list-item",0),a.hc(2,"async"),a.Tb()),2&e&&(a.Cb(1),a.lc("ngForOf",a.ic(2,1,t.users$)))},directives:[d.c,n.k,d.a,C.j],pipes:[n.b],styles:[""]}),e})();var L=s("nAXo");const x=[{path:"",component:U,canActivate:[y.a],children:[{path:"users",component:j},{path:"key-mgmt",component:L.a},{path:"",redirectTo:"users",pathMatch:"full"}]}];let A=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[i.c.forChild(x)],i.c]}),e})();const S={users:null};function $(e=S,t){switch(t.type){case O.LoadUsersSuccess:return Object.assign(Object.assign({},e),{users:t.payload});default:return e}}var N=s("snw9"),P=s("mrSG"),F=s("eIep"),I=s("lJxs"),Q=s("5+tZ"),z=s("128B");function _(e,t,s){return 0===s?[t]:(e.push(t),e)}var V=s("RrW5"),D=s("tk/3");let X=(()=>{class e{constructor(e,t,s){this.http=e,this.store=t,this.profileService=s;const n=this.profileService.getActiveProfile();this.baseUrl=`https://cors-anywhere.herokuapp.com/${n.oktaUrl}`,this.ssws$=this.store.pipe(Object(c.t)(r.e))}getUsers(){return this.ssws$.pipe(Object(F.a)(e=>this.http.get(`${this.baseUrl}/api/v1/users`,{headers:{Authorization:`SSWS ${e}`}}).pipe(Object(Q.a)(e=>e),Object(I.a)(e=>({id:e.id,userName:e.profile.login,firstName:e.profile.firstName,lastName:e.profile.lastName})),Object(z.a)(_,[]))))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(D.a),a.Yb(c.h),a.Yb(V.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Y=(()=>{class e{constructor(e,t){this.actions$=e,this.usersService=t,this.loadUsers$=this.actions$.pipe(Object(N.f)(O.LoadUsers),Object(F.a)(()=>this.usersService.getUsers().pipe(Object(I.a)(e=>new T(e)))))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(N.a),a.Yb(X))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),Object(P.b)([Object(N.b)(),Object(P.c)("design:type",Object)],e.prototype,"loadUsers$",void 0),e})();var B=s("B+Mi"),K=s("x0yz");let R=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[n.c,A,B.a,K.a,c.j.forFeature("userMgmt",$),N.c.forFeature([Y])]]}),e})()}}]);