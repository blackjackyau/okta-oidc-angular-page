!function(){"use strict";function t(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkokta_oidc_angular_rxjs=self.webpackChunkokta_oidc_angular_rxjs||[]).push([[36],{8036:function(e,r,o){o.r(r),o.d(r,{AdminsModule:function(){return it}});var s=o(8583),a=o(264),u=o(3065),c=o(819),l=o(9232),f=o(7716),p=o(5072),m=o(2522),g=o(1095),h=o(6627),d=o(3935),v=o(3017),y=o(7746);function b(t,e){if(1&t&&(f.ynx(0),f._uU(1),f.BQk()),2&t){var n=e.ngIf;f.xp6(1),f.Oqu(n.userName)}}function A(t,e){if(1&t&&(f.TgZ(0,"a",12),f.TgZ(1,"mat-icon",13),f._uU(2),f.qZA(),f.TgZ(3,"span",14),f._uU(4),f.qZA(),f.qZA()),2&t){var n=e.$implicit;f.s9C("routerLink",n.link),f.xp6(2),f.Oqu(n.icon),f.xp6(2),f.Oqu(n.label)}}var Z,O=((Z=function(){function t(e,r,i,o){n(this,t),this.router=e,this.store=r,this.changeDetectorRef=i,this.media=o,this.sideMenus=[{label:"Manage Users",link:"users",icon:"person"},{label:"Manage Users 2",link:"users2",icon:"person"},{label:"Key Management",link:"key-mgmt",icon:"vpn_key"}]}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQueryListener=function(){t.changeDetectorRef.detectChanges()},this.mobileQuery.addListener(this.mobileQueryListener),this.store.dispatch(l.n.loadSession()),this.currentUser$=this.store.pipe((0,u.Ys)(c.HF))}},{key:"logout",value:function(){this.store.dispatch(l.n.logoutSession())}},{key:"renew",value:function(){}},{key:"OnDestroy",value:function(){this.mobileQuery.removeListener(this.mobileQueryListener)}}]),t}()).\u0275fac=function(t){return new(t||Z)(f.Y36(a.F0),f.Y36(u.yh),f.Y36(f.sBO),f.Y36(p.vx))},Z.\u0275cmp=f.Xpm({type:Z,selectors:[["app-admins"]],decls:24,vars:9,consts:[["color","accent",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],[1,"main-header-text"],["mat-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["yPosition","below"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"main-container"],["fixedTopGap","56",3,"opened","disableClose","mode","fixedInViewport"],["sidenav",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"],["color","primary","aria-hidden","true","aria-label","menu.label"],[1,"menu-label"]],template:function(t,e){if(1&t){var n=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"mat-toolbar",0),f.TgZ(2,"button",1),f.NdJ("click",function(){return f.CHM(n),f.MAs(19).toggle()}),f.TgZ(3,"mat-icon"),f._uU(4,"menu"),f.qZA(),f.qZA(),f.TgZ(5,"div",2),f.TgZ(6,"div"),f._uU(7,"Admin Portal"),f.qZA(),f.qZA(),f.TgZ(8,"button",3),f.TgZ(9,"mat-icon"),f._uU(10,"person"),f.qZA(),f.YNc(11,b,2,1,"ng-container",4),f.ALo(12,"async"),f.qZA(),f.qZA(),f.TgZ(13,"mat-menu",5,6),f.TgZ(15,"button",7),f.NdJ("click",function(){return e.logout()}),f._uU(16,"Logout"),f.qZA(),f.qZA(),f.TgZ(17,"mat-sidenav-container",8),f.TgZ(18,"mat-sidenav",9,10),f.TgZ(20,"mat-nav-list"),f.YNc(21,A,5,3,"a",11),f.qZA(),f.qZA(),f.TgZ(22,"mat-sidenav-content"),f._UZ(23,"router-outlet"),f.qZA(),f.qZA(),f.qZA()}if(2&t){var r=f.MAs(14);f.xp6(8),f.Q6J("matMenuTriggerFor",r),f.xp6(3),f.Q6J("ngIf",f.lcZ(12,7,e.currentUser$)),f.xp6(7),f.s9C("opened",!e.mobileQuery.matches),f.s9C("disableClose",!e.mobileQuery.matches),f.Q6J("mode",e.mobileQuery.matches?"over":"side")("fixedInViewport",e.mobileQuery.matches),f.xp6(3),f.Q6J("ngForOf",e.sideMenus)}},directives:[m.Ye,g.lW,h.Hw,d.p6,s.O5,d.VK,d.OP,v.TM,v.JX,y.Hk,s.sg,v.Rh,a.lC,y.Tg,a.yS],pipes:[s.Ov],styles:[".main-header-text[_ngcontent-%COMP%]{flex:1 1 500px}.main-header-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}.main-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.mat-list-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}mat-toolbar[_ngcontent-%COMP%]{height:56px;font-size:18px}"]}),Z),M=o(4186),L=(0,u.PH)("[UserMgmt] Load Users"),k=(0,u.PH)("[UserMgmt/API] Load Users Success",(0,u.Ky)()),x=(0,u.PH)("[UserMgmt/API] Load Users Error",(0,u.Ky)()),T=(0,u.PH)("[UserMgmt/API] Load Users No Operation"),U=(0,u.ZF)("userMgmt"),w=((0,u.P1)(U,function(t){return t.users}),(0,u.P1)(U,function(t){return t.status})),I=(0,u.Lq)({users:[],status:"INIT"},(0,u.on)(L,function(t){return"LOADING"===t.status||"STILL_LOADING"===t.status?Object.assign(Object.assign({},t),{status:"STILL_LOADING"}):"LOADED"!==t.status?Object.assign(Object.assign({},t),{status:"LOADING"}):Object.assign({},t)}),(0,u.on)(k,function(t,e){return{users:e.users,status:"LOADED"}}),(0,u.on)(x,function(t,e){var n=e.errorMsg;return Object.assign(Object.assign({},t),{status:{errorMsg:n}})})),_=o(2178),q=o(2458);function N(t,e){1&t&&f._UZ(0,"mat-progress-bar",3)}function P(t,e){if(1&t){var n=f.EpF();f.TgZ(0,"mat-list-item",4),f.NdJ("click",function(){var t=f.CHM(n).$implicit;return f.oxw().onView(t)}),f.TgZ(1,"h3",5),f._uU(2),f.qZA(),f.TgZ(3,"p",5),f._uU(4),f.qZA(),f.TgZ(5,"p",5),f._uU(6),f.qZA(),f.qZA()}if(2&t){var r=e.$implicit;f.xp6(2),f.hij(" ",r.id," "),f.xp6(2),f.AsE(" ",r.firstName," ",r.lastName," "),f.xp6(2),f.hij(" ",r.userName," ")}}function S(t,e){if(1&t&&(f.TgZ(0,"p"),f._uU(1),f.qZA()),2&t){var n=f.oxw();f.xp6(1),f.hij(" Error loading users, reason: ",n.errorMsg," ")}}var C=function(){var t=function(){function t(e){n(this,t),this.store=e}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.store.dispatch(L()),this.store.pipe((0,u.Ys)(U)).subscribe(function(e){var n=e.status;switch(n){case"LOADING":case"STILL_LOADING":t.loading=!0;break;case"LOADED":t.loading=!1,t.users=e.users;break;default:t.loading=!1,t.errorMsg=function(t){return void 0!==t.errorMsg?t.errorMsg:null}(n)}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Y36(u.yh))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-user-mgmt"]],decls:4,vars:3,consts:[["mode","indeterminate",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["mode","indeterminate"],[3,"click"],["matLine",""]],template:function(t,e){1&t&&(f.TgZ(0,"mat-nav-list"),f.YNc(1,N,1,0,"mat-progress-bar",0),f.YNc(2,P,7,4,"mat-list-item",1),f.YNc(3,S,2,1,"p",2),f.qZA()),2&t&&(f.xp6(1),f.Q6J("ngIf",e.loading),f.xp6(1),f.Q6J("ngForOf",e.users),f.xp6(1),f.Q6J("ngIf",e.errorMsg))},directives:[y.Hk,s.O5,s.sg,_.pW,y.Tg,q.X2],styles:[""]}),t}(),F=o(2070),j=[{path:"",component:O,canActivate:[M.e],children:[{path:"users",component:C},{path:"users2",component:C},{path:"key-mgmt",component:F.M},{path:"",redirectTo:"users",pathMatch:"full"}]}],Q=function(){var t=i(function t(){n(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[a.Bz.forChild(j)],a.Bz]}),t}(),D=o(1601),Y=o(3190),G=o(9773),J=o(8002),z=o(2145),E=o(548),$=o(5242),H=o(4022);function B(t,e,n){return 0===n?[e]:(t.push(e),t)}var K=o(1841),R=o(325),V=function(){var t=function(){function t(e,r,i){n(this,t),this.http=e,this.store=r,this.profileService=i;var o=this.profileService.getActiveProfile();this.baseUrl="https://cors-anywhere.herokuapp.com/".concat(o.oktaUrl),this.ssws$=this.store.pipe((0,u.Ys)(c.yV))}return i(t,[{key:"getUsers",value:function(){var t=this;return this.ssws$.pipe((0,Y.w)(function(e){return t.http.get("".concat(t.baseUrl,"/api/v1/users"),{headers:{Authorization:"SSWS ".concat(e)}}).pipe((0,G.zg)(function(t){return t}),(0,J.U)(function(t){return{id:t.id,userName:t.profile.login,firstName:t.profile.firstName,lastName:t.profile.lastName}}),function(t,e){return arguments.length>=2?function(n){return(0,H.z)((0,z.R)(t,e),(0,E.h)(1),(0,$.d)(e))(n)}:function(e){return(0,H.z)((0,z.R)(function(e,n,r){return t(e,n,r+1)}),(0,E.h)(1))(e)}}(B,[]))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(K.eN),f.LFG(u.yh),f.LFG(R.o))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),X=o(7057),W=o(5304),tt=o(5917),et=function(){var e=i(function e(r,i,o){var s=this;n(this,e),this.actions$=r,this.store=i,this.usersService=o,this.loadUsers$=(0,D.GW)(function(){return s.actions$.pipe((0,D.l4)(L),(0,X.M)(s.store.select(w)),(0,G.zg)(function(e){var n=t(e,2),r=(n[0],n[1]);return"LOADED"===r||"STILL_LOADING"===r?(0,tt.of)(T()):s.usersService.getUsers().pipe((0,J.U)(function(t){return k({users:t})}),(0,W.K)(function(t){return console.error(t),(0,tt.of)(x({errorMsg:t.statusText}))}))}))})});return e.\u0275fac=function(t){return new(t||e)(f.LFG(D.eX),f.LFG(u.yh),f.LFG(V))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e}(),nt=o(5990),rt=o(453),it=function(){var t=i(function t(){n(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({imports:[[s.ez,Q,nt.M,rt.o,u.Aw.forFeature("userMgmt",I),D.sQ.forFeature([et])]]}),t}()}}])}();