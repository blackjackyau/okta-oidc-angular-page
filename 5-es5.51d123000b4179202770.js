function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XuDu:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminsModule",(function(){return Z}));var r=n("ofXK"),i=n("tyNb"),a=n("bPo2"),o=n("kt0X"),s=n("sfyx"),c=n("jwFk"),l=n("fXoL"),u=n("0MNC"),m=n("/t3+"),p=n("bTqV"),d=n("NFeN"),f=n("STbY"),h=n("XhcP"),v=n("MutI");function b(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275text"](1),l["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](n.userName)}}function g(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"a",12),l["\u0275\u0275elementStart"](1,"mat-icon",13),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"span",14),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;l["\u0275\u0275propertyInterpolate"]("routerLink",n.link),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n.icon),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n.label)}}var y,k=((y=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.router=t,this.store=n,this.oktaAuthService=r,this.changeDetectorRef=i,this.media=a,this.sideMenus=[{label:"Manage Users",link:"users",icon:"person"},{label:"Key Management",link:"key-mgmt",icon:"vpn_key"}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQueryListener=function(){e.changeDetectorRef.detectChanges()},this.mobileQuery.addListener(this.mobileQueryListener),this.store.dispatch(new c.a),this.store.dispatch(new c.b),this.currentUser$=this.store.pipe(Object(o.p)(s.a))}},{key:"logout",value:function(){this.router.navigate(["logout"])}},{key:"renew",value:function(){this.oktaAuthService.oktaAuth.token.getWithoutPrompt({responseType:["id_token","token"]}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"OnDestroy",value:function(){this.mobileQuery.removeListener(this.mobileQueryListener)}}]),e}()).\u0275fac=function(e){return new(e||y)(l["\u0275\u0275directiveInject"](i.Router),l["\u0275\u0275directiveInject"](o.h),l["\u0275\u0275directiveInject"](a.OktaAuthService),l["\u0275\u0275directiveInject"](l.ChangeDetectorRef),l["\u0275\u0275directiveInject"](u.c))},y.\u0275cmp=l["\u0275\u0275defineComponent"]({type:y,selectors:[["app-admins"]],decls:24,vars:9,consts:[["color","accent",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],[1,"main-header-text"],["mat-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["yPosition","below"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"main-container"],["fixedTopGap","56",3,"opened","disableClose","mode","fixedInViewport"],["sidenav",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"],["color","primary","aria-hidden","true","aria-label","menu.label"],[1,"menu-label"]],template:function(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275elementStart"](1,"mat-toolbar",0),l["\u0275\u0275elementStart"](2,"button",1),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275reference"](19).toggle()})),l["\u0275\u0275elementStart"](3,"mat-icon"),l["\u0275\u0275text"](4,"menu"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",2),l["\u0275\u0275elementStart"](6,"div"),l["\u0275\u0275text"](7,"Admin Portal"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"button",3),l["\u0275\u0275elementStart"](9,"mat-icon"),l["\u0275\u0275text"](10,"person"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,b,2,1,"ng-container",4),l["\u0275\u0275pipe"](12,"async"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"mat-menu",5,6),l["\u0275\u0275elementStart"](15,"button",7),l["\u0275\u0275listener"]("click",(function(){return t.logout()})),l["\u0275\u0275text"](16,"Logout"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"mat-sidenav-container",8),l["\u0275\u0275elementStart"](18,"mat-sidenav",9,10),l["\u0275\u0275elementStart"](20,"mat-nav-list"),l["\u0275\u0275template"](21,g,5,3,"a",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"mat-sidenav-content"),l["\u0275\u0275element"](23,"router-outlet"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=l["\u0275\u0275reference"](14);l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("matMenuTriggerFor",r),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",l["\u0275\u0275pipeBind1"](12,7,t.currentUser$)),l["\u0275\u0275advance"](7),l["\u0275\u0275propertyInterpolate"]("opened",!t.mobileQuery.matches),l["\u0275\u0275propertyInterpolate"]("disableClose",!t.mobileQuery.matches),l["\u0275\u0275property"]("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngForOf",t.sideMenus)}},directives:[m.a,p.a,d.a,f.c,r.l,f.d,f.a,h.b,h.a,v.c,r.k,h.c,i.RouterOutlet,v.a,i.RouterLinkWithHref],pipes:[r.b],styles:[".main-header-text[_ngcontent-%COMP%]{flex:1 1 500px}.main-header-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}.main-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.mat-list-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}mat-toolbar[_ngcontent-%COMP%]{height:56px;font-size:18px}"]}),y),C=n("P6bf"),j=function(e){return e.LoadUsers="[Users] Load Users",e.LoadUsersSuccess="[Users] Load Users Success",e}({}),x=function e(t){_classCallCheck(this,e),this.payload=t,this.type=j.LoadUsers},S=function e(t){_classCallCheck(this,e),this.payload=t,this.type=j.LoadUsersSuccess},w=Object(o.n)("userMgmt"),O=Object(o.o)(w,(function(e){return e.users})),I=n("FKr1");function M(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-list-item",1),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=t.$implicit;return l["\u0275\u0275nextContext"]().onView(e)})),l["\u0275\u0275elementStart"](1,"h3",2),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"p",2),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"p",2),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",r.id," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate2"](" ",r.firstName," ",r.lastName," "),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",r.userName," ")}}var _,E,L=((_=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(new x),this.users$=this.store.pipe(Object(o.p)(O))}}]),e}()).\u0275fac=function(e){return new(e||_)(l["\u0275\u0275directiveInject"](o.h))},_.\u0275cmp=l["\u0275\u0275defineComponent"]({type:_,selectors:[["app-user-mgmt"]],decls:3,vars:3,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],["matLine",""]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-nav-list"),l["\u0275\u0275template"](1,M,7,4,"mat-list-item",0),l["\u0275\u0275pipe"](2,"async"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind1"](2,1,t.users$)))},directives:[v.c,r.k,v.a,I.j],pipes:[r.b],styles:[""]}),_),U=n("nAXo"),P=[{path:"",component:k,canActivate:[C.a],children:[{path:"users",component:L},{path:"key-mgmt",component:U.a},{path:"",redirectTo:"users",pathMatch:"full"}]}],N=((E=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||E)},imports:[[i.RouterModule.forChild(P)],i.RouterModule]}),E),F={users:null};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LoadUsersSuccess:return Object.assign(Object.assign({},e),{users:t.payload});default:return e}}var A=n("snw9"),Q=n("mrSG"),R=n("eIep"),T=n("lJxs"),V=n("AytR"),X=n("5+tZ"),D=n("128B");function z(e,t,n){return 0===n?[t]:(e.push(t),e)}var B,J,K,W=n("tk/3"),G=((J=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.store=n,this.baseUrl="https://cors-anywhere.herokuapp.com/".concat(V.a.oktaUrl),this.ssws$=this.store.pipe(Object(o.p)(s.b))}return _createClass(e,[{key:"getUsers",value:function(){var e=this;return this.ssws$.pipe(Object(R.a)((function(t){return e.http.get("".concat(e.baseUrl,"/api/v1/users"),{headers:{Authorization:"SSWS ".concat(t)}}).pipe(Object(X.a)((function(e){return e})),Object(T.a)((function(e){return{id:e.id,userName:e.profile.login,firstName:e.profile.firstName,lastName:e.profile.lastName}})),Object(D.a)(z,[]))})))}}]),e}()).\u0275fac=function(e){return new(e||J)(l["\u0275\u0275inject"](W.a),l["\u0275\u0275inject"](o.h))},J.\u0275prov=l["\u0275\u0275defineInjectable"]({token:J,factory:J.\u0275fac,providedIn:"root"}),J),q=((B=function e(t,n){var r=this;_classCallCheck(this,e),this.actions$=t,this.usersService=n,this.loadUsers$=this.actions$.pipe(Object(A.d)(j.LoadUsers),Object(R.a)((function(){return r.usersService.getUsers().pipe(Object(T.a)((function(e){return new S(e)})))})))}).\u0275fac=function(e){return new(e||B)(l["\u0275\u0275inject"](A.a),l["\u0275\u0275inject"](G))},B.\u0275prov=l["\u0275\u0275defineInjectable"]({token:B,factory:B.\u0275fac}),Object(Q.b)([Object(A.b)(),Object(Q.c)("design:type",Object)],B.prototype,"loadUsers$",void 0),B),H=n("B+Mi"),Y=n("x0yz"),Z=((K=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:K}),K.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||K)},imports:[[r.c,N,H.a,Y.a,o.j.forFeature("userMgmt",$),A.c.forFeature([q])]]}),K)}}]);