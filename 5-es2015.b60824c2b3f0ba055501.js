(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XuDu:function(t,e,s){"use strict";s.r(e),s.d(e,"AdminsModule",(function(){return R}));var n=s("ofXK"),i=s("tyNb"),c=s("kt0X"),r=s("sfyx"),o=s("jwFk"),a=s("fXoL"),b=s("0MNC"),u=s("/t3+"),l=s("bTqV"),m=s("NFeN"),p=s("STbY"),h=s("XhcP"),d=s("MutI");function f(t,e){if(1&t&&(a.Sb(0),a.Ac(1),a.Rb()),2&t){const t=e.ngIf;a.Cb(1),a.Bc(t.userName)}}function g(t,e){if(1&t&&(a.Ub(0,"a",12),a.Ub(1,"mat-icon",13),a.Ac(2),a.Tb(),a.Ub(3,"span",14),a.Ac(4),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.mc("routerLink",t.link),a.Cb(2),a.Bc(t.icon),a.Cb(2),a.Bc(t.label)}}let y=(()=>{class t{constructor(t,e,s,n){this.router=t,this.store=e,this.changeDetectorRef=s,this.media=n,this.sideMenus=[{label:"Manage Users",link:"users",icon:"person"},{label:"Key Management",link:"key-mgmt",icon:"vpn_key"}]}ngOnInit(){this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQueryListener=()=>{this.changeDetectorRef.detectChanges()},this.mobileQuery.addListener(this.mobileQueryListener),this.store.dispatch(new o.a),this.store.dispatch(new o.b),this.currentUser$=this.store.pipe(Object(c.p)(r.a))}logout(){this.router.navigate(["logout"])}renew(){}OnDestroy(){this.mobileQuery.removeListener(this.mobileQueryListener)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.a),a.Ob(c.h),a.Ob(a.h),a.Ob(b.c))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-admins"]],decls:24,vars:9,consts:[["color","accent",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],[1,"main-header-text"],["mat-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["yPosition","below"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"main-container"],["fixedTopGap","56",3,"opened","disableClose","mode","fixedInViewport"],["sidenav",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"],["color","primary","aria-hidden","true","aria-label","menu.label"],[1,"menu-label"]],template:function(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div"),a.Ub(1,"mat-toolbar",0),a.Ub(2,"button",1),a.cc("click",(function(){return a.tc(t),a.rc(19).toggle()})),a.Ub(3,"mat-icon"),a.Ac(4,"menu"),a.Tb(),a.Tb(),a.Ub(5,"div",2),a.Ub(6,"div"),a.Ac(7,"Admin Portal"),a.Tb(),a.Tb(),a.Ub(8,"button",3),a.Ub(9,"mat-icon"),a.Ac(10,"person"),a.Tb(),a.zc(11,f,2,1,"ng-container",4),a.hc(12,"async"),a.Tb(),a.Tb(),a.Ub(13,"mat-menu",5,6),a.Ub(15,"button",7),a.cc("click",(function(){return e.logout()})),a.Ac(16,"Logout"),a.Tb(),a.Tb(),a.Ub(17,"mat-sidenav-container",8),a.Ub(18,"mat-sidenav",9,10),a.Ub(20,"mat-nav-list"),a.zc(21,g,5,3,"a",11),a.Tb(),a.Tb(),a.Ub(22,"mat-sidenav-content"),a.Pb(23,"router-outlet"),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=a.rc(14);a.Cb(8),a.lc("matMenuTriggerFor",t),a.Cb(3),a.lc("ngIf",a.ic(12,7,e.currentUser$)),a.Cb(7),a.mc("opened",!e.mobileQuery.matches),a.mc("disableClose",!e.mobileQuery.matches),a.lc("mode",e.mobileQuery.matches?"over":"side")("fixedInViewport",e.mobileQuery.matches),a.Cb(3),a.lc("ngForOf",e.sideMenus)}},directives:[u.a,l.b,m.a,p.c,n.l,p.d,p.a,h.b,h.a,d.c,n.k,h.c,i.d,d.a,i.b],pipes:[n.b],styles:[".main-header-text[_ngcontent-%COMP%]{flex:1 1 500px}.main-header-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}.main-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.mat-list-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}mat-toolbar[_ngcontent-%COMP%]{height:56px;font-size:18px}"]}),t})();var U=s("P6bf"),O=function(t){return t.LoadUsers="[Users] Load Users",t.LoadUsersSuccess="[Users] Load Users Success",t}({});class v{constructor(t){this.payload=t,this.type=O.LoadUsers}}class w{constructor(t){this.payload=t,this.type=O.LoadUsersSuccess}}const T=Object(c.n)("userMgmt"),k=Object(c.o)(T,t=>t.users);var C=s("FKr1");function M(t,e){if(1&t){const t=a.Vb();a.Ub(0,"mat-list-item",1),a.cc("click",(function(){a.tc(t);const s=e.$implicit;return a.gc().onView(s)})),a.Ub(1,"h3",2),a.Ac(2),a.Tb(),a.Ub(3,"p",2),a.Ac(4),a.Tb(),a.Ub(5,"p",2),a.Ac(6),a.Tb(),a.Tb()}if(2&t){const t=e.$implicit;a.Cb(2),a.Cc(" ",t.id," "),a.Cb(2),a.Dc(" ",t.firstName," ",t.lastName," "),a.Cb(2),a.Cc(" ",t.userName," ")}}let j=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.store.dispatch(new v),this.users$=this.store.pipe(Object(c.p)(k))}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(c.h))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-user-mgmt"]],decls:3,vars:3,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],["matLine",""]],template:function(t,e){1&t&&(a.Ub(0,"mat-nav-list"),a.zc(1,M,7,4,"mat-list-item",0),a.hc(2,"async"),a.Tb()),2&t&&(a.Cb(1),a.lc("ngForOf",a.ic(2,1,e.users$)))},directives:[d.c,n.k,d.a,C.j],pipes:[n.b],styles:[""]}),t})();var L=s("nAXo");const x=[{path:"",component:y,canActivate:[U.a],children:[{path:"users",component:j},{path:"key-mgmt",component:L.a},{path:"",redirectTo:"users",pathMatch:"full"}]}];let A=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[i.c.forChild(x)],i.c]}),t})();const $={users:null};function F(t=$,e){switch(e.type){case O.LoadUsersSuccess:return Object.assign(Object.assign({},t),{users:e.payload});default:return t}}var N=s("snw9"),I=s("mrSG"),P=s("eIep"),S=s("lJxs"),Q=s("AytR"),_=s("5+tZ"),z=s("128B");function V(t,e,s){return 0===s?[e]:(t.push(e),t)}var X=s("tk/3");let B=(()=>{class t{constructor(t,e){this.http=t,this.store=e,this.baseUrl=`https://cors-anywhere.herokuapp.com/${Q.a.oktaUrl}`,this.ssws$=this.store.pipe(Object(c.p)(r.b))}getUsers(){return this.ssws$.pipe(Object(P.a)(t=>this.http.get(`${this.baseUrl}/api/v1/users`,{headers:{Authorization:`SSWS ${t}`}}).pipe(Object(_.a)(t=>t),Object(S.a)(t=>({id:t.id,userName:t.profile.login,firstName:t.profile.firstName,lastName:t.profile.lastName})),Object(z.a)(V,[]))))}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(X.a),a.Yb(c.h))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),D=(()=>{class t{constructor(t,e){this.actions$=t,this.usersService=e,this.loadUsers$=this.actions$.pipe(Object(N.d)(O.LoadUsers),Object(P.a)(()=>this.usersService.getUsers().pipe(Object(S.a)(t=>new w(t)))))}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(N.a),a.Yb(B))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac}),Object(I.b)([Object(N.b)(),Object(I.c)("design:type",Object)],t.prototype,"loadUsers$",void 0),t})();var K=s("B+Mi"),Y=s("x0yz");let R=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[n.c,A,K.a,Y.a,c.j.forFeature("userMgmt",F),N.c.forFeature([D])]]}),t})()}}]);