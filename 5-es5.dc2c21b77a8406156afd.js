function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,s=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XuDu:function(e,t,r){"use strict";r.r(t),r.d(t,"AdminsModule",(function(){return se}));var n={};r.r(n),r.d(n,"LoadUsers",(function(){return L})),r.d(n,"LoadUsersSuccess",(function(){return C})),r.d(n,"LoadUsersError",(function(){return T})),r.d(n,"LoadUsersNoOp",(function(){return j}));var i=r("ofXK"),s=r("tyNb"),a=r("kt0X"),o=r("4ald"),c=r("/VzD"),u=r("fXoL"),b=r("0MNC"),l=r("/t3+"),f=r("bTqV"),m=r("NFeN"),p=r("STbY"),d=r("XhcP"),h=r("MutI");function g(e,t){if(1&e&&(u.Sb(0),u.Ac(1),u.Rb()),2&e){var r=t.ngIf;u.Cb(1),u.Bc(r.userName)}}function y(e,t){if(1&e&&(u.Ub(0,"a",12),u.Ub(1,"mat-icon",13),u.Ac(2),u.Tb(),u.Ub(3,"span",14),u.Ac(4),u.Tb(),u.Tb()),2&e){var r=t.$implicit;u.mc("routerLink",r.link),u.Cb(2),u.Bc(r.icon),u.Cb(2),u.Bc(r.label)}}var O,v=((O=function(){function e(t,r,n,i){_classCallCheck(this,e),this.router=t,this.store=r,this.changeDetectorRef=n,this.media=i,this.sideMenus=[{label:"Manage Users",link:"users",icon:"person"},{label:"Manage Users 2",link:"users2",icon:"person"},{label:"Key Management",link:"key-mgmt",icon:"vpn_key"}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.mobileQuery=this.media.matchMedia("(max-width: 600px)"),this.mobileQueryListener=function(){e.changeDetectorRef.detectChanges()},this.mobileQuery.addListener(this.mobileQueryListener),this.store.dispatch(c.a.loadSession()),this.currentUser$=this.store.pipe(Object(a.t)(o.d))}},{key:"logout",value:function(){this.store.dispatch(c.a.logoutSession())}},{key:"renew",value:function(){}},{key:"OnDestroy",value:function(){this.mobileQuery.removeListener(this.mobileQueryListener)}}]),e}()).\u0275fac=function(e){return new(e||O)(u.Ob(s.a),u.Ob(a.h),u.Ob(u.h),u.Ob(b.c))},O.\u0275cmp=u.Ib({type:O,selectors:[["app-admins"]],decls:24,vars:9,consts:[["color","accent",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],[1,"main-header-text"],["mat-button","",3,"matMenuTriggerFor"],[4,"ngIf"],["yPosition","below"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"main-container"],["fixedTopGap","56",3,"opened","disableClose","mode","fixedInViewport"],["sidenav",""],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"],["color","primary","aria-hidden","true","aria-label","menu.label"],[1,"menu-label"]],template:function(e,t){if(1&e){var r=u.Vb();u.Ub(0,"div"),u.Ub(1,"mat-toolbar",0),u.Ub(2,"button",1),u.cc("click",(function(){return u.tc(r),u.rc(19).toggle()})),u.Ub(3,"mat-icon"),u.Ac(4,"menu"),u.Tb(),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"div"),u.Ac(7,"Admin Portal"),u.Tb(),u.Tb(),u.Ub(8,"button",3),u.Ub(9,"mat-icon"),u.Ac(10,"person"),u.Tb(),u.zc(11,g,2,1,"ng-container",4),u.hc(12,"async"),u.Tb(),u.Tb(),u.Ub(13,"mat-menu",5,6),u.Ub(15,"button",7),u.cc("click",(function(){return t.logout()})),u.Ac(16,"Logout"),u.Tb(),u.Tb(),u.Ub(17,"mat-sidenav-container",8),u.Ub(18,"mat-sidenav",9,10),u.Ub(20,"mat-nav-list"),u.zc(21,y,5,3,"a",11),u.Tb(),u.Tb(),u.Ub(22,"mat-sidenav-content"),u.Pb(23,"router-outlet"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.rc(14);u.Cb(8),u.lc("matMenuTriggerFor",n),u.Cb(3),u.lc("ngIf",u.ic(12,7,t.currentUser$)),u.Cb(7),u.mc("opened",!t.mobileQuery.matches),u.mc("disableClose",!t.mobileQuery.matches),u.lc("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),u.Cb(3),u.lc("ngForOf",t.sideMenus)}},directives:[l.a,f.b,m.a,p.c,i.l,p.d,p.a,d.b,d.a,h.c,i.k,d.c,s.d,h.a,s.b],pipes:[i.b],styles:[".main-header-text[_ngcontent-%COMP%]{flex:1 1 500px}.main-header-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px}.main-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.mat-list-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}mat-toolbar[_ngcontent-%COMP%]{height:56px;font-size:18px}"]}),O),U=r("P6bf"),L=Object(a.n)("[UserMgmt] Load Users"),C=Object(a.n)("[UserMgmt/API] Load Users Success",Object(a.s)()),T=Object(a.n)("[UserMgmt/API] Load Users Error",Object(a.s)()),j=Object(a.n)("[UserMgmt/API] Load Users No Operation"),A=Object(a.o)("userMgmt"),k=Object(a.q)(A,(function(e){return e.users})),I=Object(a.q)(A,(function(e){return e.status})),M=Object(a.p)({users:[],status:"INIT"},Object(a.r)(n.LoadUsers,(function(e){return"LOADING"===e.status||"STILL_LOADING"===e.status?Object.assign(Object.assign({},e),{status:"STILL_LOADING"}):"LOADED"!==e.status?Object.assign(Object.assign({},e),{status:"LOADING"}):Object.assign({},e)})),Object(a.r)(n.LoadUsersSuccess,(function(e,t){return{users:t.users,status:"LOADED"}})),Object(a.r)(n.LoadUsersError,(function(e,t){var r=t.errorMsg;return Object.assign(Object.assign({},e),{status:{errorMsg:r}})}))),_=r("bv9b"),w=r("FKr1");function S(e,t){1&e&&u.Pb(0,"mat-progress-bar",3)}function N(e,t){if(1&e){var r=u.Vb();u.Ub(0,"mat-list-item",4),u.cc("click",(function(){u.tc(r);var e=t.$implicit;return u.gc().onView(e)})),u.Ub(1,"h3",5),u.Ac(2),u.Tb(),u.Ub(3,"p",5),u.Ac(4),u.Tb(),u.Ub(5,"p",5),u.Ac(6),u.Tb(),u.Tb()}if(2&e){var n=t.$implicit;u.Cb(2),u.Cc(" ",n.id," "),u.Cb(2),u.Dc(" ",n.firstName," ",n.lastName," "),u.Cb(2),u.Cc(" ",n.userName," ")}}function P(e,t){if(1&e&&(u.Ub(0,"p"),u.Ac(1),u.Tb()),2&e){var r=u.gc();u.Cb(1),u.Cc(" Error loading users, reason: ",r.errorMsg," ")}}var x,D,$=((x=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.dispatch(n.LoadUsers()),this.users$=this.store.pipe(Object(a.t)(k)),this.store.pipe(Object(a.t)(I)).subscribe((function(t){"LOADING"===t||"STILL_LOADING"===t?e.loading=!0:(e.loading=!1,e.errorMsg=function(e){return void 0!==e.errorMsg?e.errorMsg:null}(t))}))}}]),e}()).\u0275fac=function(e){return new(e||x)(u.Ob(a.h))},x.\u0275cmp=u.Ib({type:x,selectors:[["app-user-mgmt"]],decls:5,vars:5,consts:[["mode","indeterminate",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["mode","indeterminate"],[3,"click"],["matLine",""]],template:function(e,t){1&e&&(u.Ub(0,"mat-nav-list"),u.zc(1,S,1,0,"mat-progress-bar",0),u.zc(2,N,7,4,"mat-list-item",1),u.hc(3,"async"),u.zc(4,P,2,1,"p",2),u.Tb()),2&e&&(u.Cb(1),u.lc("ngIf",t.loading),u.Cb(1),u.lc("ngForOf",u.ic(3,3,t.users$)),u.Cb(2),u.lc("ngIf",t.errorMsg))},directives:[h.c,i.l,i.k,_.a,h.a,w.j],pipes:[i.b],styles:[""]}),x),F=r("nAXo"),z=[{path:"",component:v,canActivate:[U.a],children:[{path:"users",component:$},{path:"users2",component:$},{path:"key-mgmt",component:F.a},{path:"",redirectTo:"users",pathMatch:"full"}]}],E=((D=function e(){_classCallCheck(this,e)}).\u0275mod=u.Mb({type:D}),D.\u0275inj=u.Lb({factory:function(e){return new(e||D)},imports:[[s.c.forChild(z)],s.c]}),D),Q=r("snw9"),G=r("eIep"),R=r("5+tZ"),V=r("lJxs"),Y=r("128B");function X(e,t,r){return 0===r?[t]:(e.push(t),e)}var B,K,J,W=r("RrW5"),q=r("tk/3"),H=((B=function(){function e(t,r,n){_classCallCheck(this,e),this.http=t,this.store=r,this.profileService=n;var i=this.profileService.getActiveProfile();this.baseUrl="https://cors-anywhere.herokuapp.com/".concat(i.oktaUrl),this.ssws$=this.store.pipe(Object(a.t)(o.e))}return _createClass(e,[{key:"getUsers",value:function(){var e=this;return this.ssws$.pipe(Object(G.a)((function(t){return e.http.get("".concat(e.baseUrl,"/api/v1/users"),{headers:{Authorization:"SSWS ".concat(t)}}).pipe(Object(R.a)((function(e){return e})),Object(V.a)((function(e){return{id:e.id,userName:e.profile.login,firstName:e.profile.firstName,lastName:e.profile.lastName}})),Object(Y.a)(X,[]))})))}}]),e}()).\u0275fac=function(e){return new(e||B)(u.Yb(q.a),u.Yb(a.h),u.Yb(W.a))},B.\u0275prov=u.Kb({token:B,factory:B.\u0275fac,providedIn:"root"}),B),Z=r("zp1y"),ee=r("JIr8"),te=r("LRne"),re=((K=function e(t,r,i){var s=this;_classCallCheck(this,e),this.actions$=t,this.store=r,this.usersService=i,this.loadUsers$=Object(Q.d)((function(){return s.actions$.pipe(Object(Q.e)(n.LoadUsers),Object(Z.a)(s.store.select(I)),Object(R.a)((function(e){var t=_slicedToArray(e,2),r=(t[0],t[1]);return"LOADED"===r||"STILL_LOADING"===r?Object(te.a)(n.LoadUsersNoOp()):s.usersService.getUsers().pipe(Object(V.a)((function(e){return n.LoadUsersSuccess({users:e})})),Object(ee.a)((function(e){return console.error(e),Object(te.a)(n.LoadUsersError({errorMsg:e.statusText}))})))})))}))}).\u0275fac=function(e){return new(e||K)(u.Yb(Q.a),u.Yb(a.h),u.Yb(H))},K.\u0275prov=u.Kb({token:K,factory:K.\u0275fac}),K),ne=r("B+Mi"),ie=r("x0yz"),se=((J=function e(){_classCallCheck(this,e)}).\u0275mod=u.Mb({type:J}),J.\u0275inj=u.Lb({factory:function(e){return new(e||J)},imports:[[i.c,E,ne.a,ie.a,a.j.forFeature("userMgmt",M),Q.b.forFeature([re])]]}),J)}}]);